(this["webpackJsonprefactored-spoon"]=this["webpackJsonprefactored-spoon"]||[]).push([[0],{123:function(e,t,n){e.exports=n(200)},128:function(e,t,n){},129:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),l=n.n(i),o=(n(128),n(9)),u=(n(129),n(17)),c=n.n(u),s=n(27),d=n(32),m=n(10);function f(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],l=n[1],u=Object(a.useState)(""),c=Object(o.a)(u,2),s=c[0],f=c[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(d.a,{onSubmit:function(t){t.preventDefault(),e.handleSubmit(i,s)}},r.a.createElement(d.a.Group,{controlId:"formBasicEmail"},r.a.createElement(d.a.Label,null,"Email address"),r.a.createElement(d.a.Control,{type:"email",placeholder:"Email",value:i,onChange:function(e){l(e.target.value)}})),r.a.createElement(d.a.Group,{controlId:"formBasicPassword"},r.a.createElement(d.a.Label,null,"Password"),r.a.createElement(d.a.Control,{type:"password",placeholder:"Password",value:s,onChange:function(e){f(e.target.value)}})),r.a.createElement(m.a,{variant:"primary",type:"submit"},"Submit"))))}var p=n(121),v=n(92),E=n(14);function h(){return localStorage.getItem("currentUser")}function b(e){var t=Object(E.f)(),n=Object(a.useState)("login"),i=Object(o.a)(n,2),l=i[0],u=i[1],d=Object(a.useState)(""),m=Object(o.a)(d,2),h=m[0],b=m[1],g=function(){var n=Object(s.a)(c.a.mark((function n(a,r,i){var l,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://shielded-earth-02834.herokuapp.com/"+i,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a,password:r})});case 2:return l=n.sent,n.next=5,l.text();case 5:o=n.sent,"login"===i&&302===l.status||"signup"===i&&201===l.status?(localStorage.setItem("currentUser",JSON.stringify(o)),e.setAuthenticated(!0),t.push("/days")):b("error with "+i+"\n"+o);case 7:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(p.a,{id:"signin-tabs",activeKey:l,onSelect:function(e){u(e),b("")}},r.a.createElement(v.a,{eventKey:"login",title:"Login"},r.a.createElement(f,{handleSubmit:function(e,t){g(e,t,"login")}})),r.a.createElement(v.a,{eventKey:"signup",title:"Sign Up"},r.a.createElement(f,{handleSubmit:function(e,t){g(e,t,"signup")}}))),h&&r.a.createElement("div",{style:{color:"red"}},"sign in unsuccessful :("))}var g=n(116),y=n.n(g),O=(n(136),n(59)),j=n(49);function S(e){var t=Object(E.f)();return r.a.createElement(O.a,{bg:"light",expand:"lg"},r.a.createElement(O.a.Brand,null,"Refactored Spoon"),r.a.createElement(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(O.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(j.a,{className:"mr-auto"},r.a.createElement(j.a.Link,{href:"/refactored-spoon/days"},"Days"),r.a.createElement(j.a.Link,{href:"/refactored-spoon/foodsearch"},"Food Search"))),r.a.createElement(m.a,{variant:"secondary",onClick:function(){localStorage.removeItem("currentUser"),e.setAuthenticated(!1),t.push("/signin")}},"Logout"))}var C=n(98),x=n(58),I=n(42),k=n(22),A=n(71),N=n(111),w={ENERGY:1008,CALCIUM:1087,IRON:1089,VITAMIN_A:1104,VITAMIN_C:1162,PROTEIN:1003,FAT:1004,CARBOHYDRATE:1005,SUGAR:2e3,FIBER:1079,POTASSIUM:1092,SODIUM:1093,CHOLESTEROL:1253};function T(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],l=n[1],u=Object(a.useState)([]),f=Object(o.a)(u,2),p=f[0],v=f[1],E=Object(a.useState)(!1),h=Object(o.a)(E,2),b=h[0],g=h[1],y=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!0),v([]),e.next=5,O(i);case 5:g(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a,r,i,l,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://shielded-earth-02834.herokuapp.com/food/search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({food:t,pageSize:"9"})});case 2:return n=e.sent,a=[],e.next=6,n.json();case 6:return(r=e.sent).forEach((function(e){a.push(e.fdcId)})),i=r.TotalPages,console.log("totalPages"),console.log(i),e.next=13,fetch("https://shielded-earth-02834.herokuapp.com/foods/detail",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({foods:a})});case 13:return l=e.sent,e.next=16,l.json();case 16:o=e.sent,u=[],r.forEach((function(e){var t={result:e,details:o.filter((function(t){return t.fdcId===e.fdcId}))[0]};u.push(t)})),v(u);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(d.a,{inline:!0,onSubmit:y,style:{margin:"10px"}},r.a.createElement(I.a,{type:"text",placeholder:"Search for food",className:"mr-sm-2",value:i,onChange:function(e){l(e.target.value)}}),r.a.createElement(m.a,{type:"submit"},"Search")),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},b&&r.a.createElement(N.a,{animation:"border"}),p&&p.map((function(t){var n,a;return r.a.createElement(k.a,{key:t.result.fdcId,border:"primary",style:{width:"30%",margin:"10px"}},r.a.createElement(k.a.Header,null,t.result.description),r.a.createElement(k.a.Body,null,"FdcId: ",t.result.fdcId,r.a.createElement("br",null),t.result.brandOwner&&r.a.createElement("span",null,"Brand: ",t.result.brandOwner),r.a.createElement("br",null),t.result.ingredients&&r.a.createElement("span",null,"Ingredients: ",t.result.ingredients),r.a.createElement("br",null),t.details&&r.a.createElement(A.a,{style:{marginTop:"5px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nutrient"),r.a.createElement("th",null,"Amount (per 100 grams)"))),r.a.createElement("tbody",null,t.details.foodNutrients.filter((function(e){return[w.ENERGY,w.PROTEIN,w.CARBOHYDRATE,w.FAT].includes(e.nutrient.id)})).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.nutrient.name),r.a.createElement("td",null,e.amount," ",e.nutrient.unitName))})))),e.showSelect&&!(null===(n=e.fdcIds)||void 0===n?void 0:n.includes(t.result.fdcId))&&r.a.createElement(m.a,{onClick:function(){return e.selectFood(t.result,t.details)}},"Select food"),e.showSelect&&(null===(a=e.fdcIds)||void 0===a?void 0:a.includes(t.result.fdcId))&&r.a.createElement("span",{style:{color:"green"}},"Food selected")))})))))}function M(e){return e&&!(0===Object.keys(e).length&&e.constructor===Object)}function D(e){return r.a.createElement("span",{style:{display:"block",overflowY:"scroll",overflowX:"hidden",maxHeight:e.height?e.height:"300px",border:"1px solid lightGrey",maxWidth:"450px",margin:"0 auto"}},r.a.createElement(A.a,null,r.a.createElement("thead",{style:{display:"block",marginLeft:"27%",position:"sticky",top:"0",backgroundColor:"white"}},r.a.createElement("tr",null,r.a.createElement("th",{style:{position:"sticky",top:"0"}},"Nutrient"),r.a.createElement("th",{style:{position:"sticky",top:"0"}},"Amount"))),r.a.createElement("tbody",{style:{marginLeft:"25%",float:"left"}},!!e.nutrition.calories&&r.a.createElement("tr",null,r.a.createElement("td",null,"Calories"),r.a.createElement("td",null,e.nutrition.calories)),!!e.nutrition.protein&&r.a.createElement("tr",null,r.a.createElement("td",null,"Protein"),r.a.createElement("td",null,e.nutrition.protein)),!!e.nutrition.carbs&&r.a.createElement("tr",null,r.a.createElement("td",null,"Carbs"),r.a.createElement("td",null,e.nutrition.carbs)),!!e.nutrition.fat&&r.a.createElement("tr",null,r.a.createElement("td",null,"Fat"),r.a.createElement("td",null,e.nutrition.fat)),!!e.nutrition.sugar&&r.a.createElement("tr",null,r.a.createElement("td",null,"Sugar"),r.a.createElement("td",null,e.nutrition.sugar)),!!e.nutrition.fiber&&r.a.createElement("tr",null,r.a.createElement("td",null,"Fiber"),r.a.createElement("td",null,e.nutrition.fiber)),!!e.nutrition.sodium&&r.a.createElement("tr",null,r.a.createElement("td",null,"Sodium"),r.a.createElement("td",null,e.nutrition.sodium)),!!e.nutrition.calcium&&r.a.createElement("tr",null,r.a.createElement("td",null,"Calcium"),r.a.createElement("td",null,e.nutrition.calcium)),!!e.nutrition.iron&&r.a.createElement("tr",null,r.a.createElement("td",null,"Iron"),r.a.createElement("td",null,e.nutrition.iron)),!!e.nutrition.cholesterol&&r.a.createElement("tr",null,r.a.createElement("td",null,"Cholesterol"),r.a.createElement("td",null,e.nutrition.cholesterol)),!!e.nutrition.potassium&&r.a.createElement("tr",null,r.a.createElement("td",null,"Potassium"),r.a.createElement("td",null,e.nutrition.potassium)),!!e.nutrition.vitaminA&&r.a.createElement("tr",null,r.a.createElement("td",null,"Vitamin A"),r.a.createElement("td",null,e.nutrition.vitaminA)),!!e.nutrition.vitaminC&&r.a.createElement("tr",null,r.a.createElement("td",null,"Vitamin C"),r.a.createElement("td",null,e.nutrition.vitaminC)))))}function F(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),i=n[0],l=n[1];return r.a.createElement(k.a,{style:{width:"30%",margin:"10px"},className:"mb-2"},r.a.createElement(k.a.Header,null,e.food.fdcId),e.food.fdcId&&r.a.createElement("span",{style:{margin:"5px"}},"FDC ID: ",e.food.fdcId,r.a.createElement("br",null)),e.food.name&&r.a.createElement("span",{style:{margin:"5px"}},"Name: ",e.food.name,r.a.createElement("br",null)),e.food.details&&r.a.createElement("span",{style:{margin:"5px"}},"Description: ",e.food.details.description,r.a.createElement("br",null)),r.a.createElement("span",{style:{margin:"5px"}},"Calories: ",e.food.nutrition.calories,r.a.createElement("br",null)),!i&&r.a.createElement("span",null,r.a.createElement(m.a,{variant:"secondary",onClick:function(){return l(!0)}},"See nutrition"),r.a.createElement("br",null)),i&&r.a.createElement("span",null,"Food nutrition",r.a.createElement(D,{nutrition:e.food.nutrition}),r.a.createElement(m.a,{variant:"secondary",onClick:function(){return l(!1)}},"Hide nutrition"),r.a.createElement("br",null)),r.a.createElement("span",null,"Serving size:",r.a.createElement(I.a,{type:"number",placeholder:100,style:{width:"80px",display:"inline-block",margin:"5px"},value:e.food.serving,onChange:function(t){return e.updateServingSize(e.food,t.target.value)}}),"g"),r.a.createElement("br",null),r.a.createElement(m.a,{variant:"danger",onClick:function(){return e.removeFood(e.food._id?e.food._id:e.food.fdcId)}},"Remove"))}var R=[{value:"breakfast",label:"Breakfast"},{value:"lunch",label:"Lunch"},{value:"dinner",label:"Dinner"}];function U(e){var t,n,i,l=Object(a.useState)((null===(t=e.meal)||void 0===t?void 0:t.foods)?e.meal.foods:[]),u=Object(o.a)(l,2),c=u[0],s=u[1],d=Object(a.useState)((null===(n=e.meal)||void 0===n?void 0:n.name)?e.meal.name:""),f=Object(o.a)(d,2),p=f[0],v=f[1],E=Object(a.useState)((null===(i=e.meal)||void 0===i?void 0:i.nutrition)?e.meal.nutrition:{}),h=Object(o.a)(E,2),b=h[0],g=h[1],y=Object(a.useState)([]),O=Object(o.a)(y,2),j=O[0],S=O[1],I=function(e,t){var n=c.map((function(n){return(e._id?n._id===e._id:n.fdcId===e.fdcId)?(e.serving=parseInt(t),e.nutrition={calories:A(n.usdaNutrition.calories,t),protein:k(n.usdaNutrition.protein,t),carbs:k(n.usdaNutrition.carbs,t),fat:k(n.usdaNutrition.fat,t),sugar:k(n.usdaNutrition.sugar,t),fiber:k(n.usdaNutrition.fiber,t),sodium:A(n.usdaNutrition.sodium,t),calcium:A(n.usdaNutrition.calcium,t),iron:k(n.usdaNutrition.iron,t),cholesterol:A(n.usdaNutrition.cholesterol,t),potassium:A(n.usdaNutrition.potassium,t),vitaminA:k(n.usdaNutrition.vitaminA,t),vitaminC:k(n.usdaNutrition.vitaminC,t)},e):n}));s(n),function(){var e={calories:0,protein:0,carbs:0,fat:0,sugar:0,fiber:0,sodium:0,calcium:0,iron:0,cholesterol:0,potassium:0,vitaminA:0,vitaminC:0};c.forEach((function(t){e.calories+=t.nutrition.calories,e.protein+=t.nutrition.protein,e.carbs+=t.nutrition.carbs,e.fat+=t.nutrition.fat,e.sugar+=t.nutrition.sugar,e.fiber+=t.nutrition.fiber,e.sodium+=t.nutrition.sodium,e.calcium+=t.nutrition.calcium,e.iron+=t.nutrition.iron,e.cholesterol+=t.nutrition.cholesterol,e.potassium+=t.nutrition.potassium,e.vitaminA+=t.nutrition.vitaminA,e.vitaminC+=t.nutrition.vitaminC})),g(e)}()},k=function(e,t){return Math.round(e*t)/100},A=function(e,t){return Math.round(e/100*t)},N=function(e){var t=c.filter((function(t){return t.fdcId===e}))[0];s(c.filter((function(t){return t.fdcId!==e}))),S(j.filter((function(t){return t!==e})));var n=_(t,-1);g(n)},U=function(e){var t=c.filter((function(t){return t._id===e}))[0];s(c.filter((function(t){return t._id!==e})));var n=_(t,-1);g(n)},_=function(e,t){return{calories:P(b.calories,e.nutrition.calories,t),protein:P(b.protein,e.nutrition.protein,t),carbs:P(b.carbs,e.nutrition.carbs,t),fat:P(b.fat,e.nutrition.fat,t),sugar:P(b.sugar,e.nutrition.sugar,t),fiber:P(b.fiber,e.nutrition.fiber,t),sodium:P(b.sodium,e.nutrition.sodium,t),calcium:P(b.calcium,e.nutrition.calcium,t),iron:P(b.iron,e.nutrition.iron,t),cholesterol:P(b.cholesterol,e.nutrition.cholesterol,t),potassium:P(b.potassium,e.nutrition.potassium,t),vitaminA:P(b.vitaminA,e.nutrition.vitaminA,t),vitaminC:P(b.vitaminC,e.nutrition.vitaminC,t)}},P=function(e,t,n){return(e||0)+n*(t||0)};return r.a.createElement("div",{style:{margin:"50px"}},r.a.createElement("div",null,r.a.createElement("div",{style:{borderStyle:"solid",borderWidth:"1px",padding:"20px"}},r.a.createElement("div",null,"Meal:"),"Meal nutrition summary",M(b)&&r.a.createElement(D,{nutrition:b}),r.a.createElement(x.a,{onSelect:v,value:p},r.a.createElement(x.a.Toggle,{style:{backgroundColor:"white",color:"black"}},p||"Meal"),r.a.createElement(x.a.Menu,null,R.map((function(e){return r.a.createElement(x.a.Item,{key:e.value,eventKey:e.value},e.label)})))),r.a.createElement("div",null,"Foods:"),r.a.createElement("span",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},c.map((function(t){return r.a.createElement(F,{key:t._id?t._id:t.fdcId,food:t,updateServingSize:I,removeFood:e.meal?U:N})}))),r.a.createElement(T,{selectFood:function(e,t){var n,a,r,i,l,o,u,c,d,m,f,p,v,E,h,b,y,O,j,x,I,k,A,N,T,M,D=null===t||void 0===t||null===(n=t.foodNutrients)||void 0===n||null===(a=n.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.ENERGY}))[0])||void 0===a?void 0:a.amount,F=null===t||void 0===t||null===(r=t.foodNutrients)||void 0===r||null===(i=r.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.PROTEIN}))[0])||void 0===i?void 0:i.amount,R=null===t||void 0===t||null===(l=t.foodNutrients)||void 0===l||null===(o=l.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.CARBOHYDRATE}))[0])||void 0===o?void 0:o.amount,U=null===t||void 0===t||null===(u=t.foodNutrients)||void 0===u||null===(c=u.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.FAT}))[0])||void 0===c?void 0:c.amount,P=null===t||void 0===t||null===(d=t.foodNutrients)||void 0===d||null===(m=d.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.SUGAR}))[0])||void 0===m?void 0:m.amount,L=null===t||void 0===t||null===(f=t.foodNutrients)||void 0===f||null===(p=f.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.FIBER}))[0])||void 0===p?void 0:p.amount,B=null===t||void 0===t||null===(v=t.foodNutrients)||void 0===v||null===(E=v.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.SODIUM}))[0])||void 0===E?void 0:E.amount,H=null===t||void 0===t||null===(h=t.foodNutrients)||void 0===h||null===(b=h.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.CALCIUM}))[0])||void 0===b?void 0:b.amount,Y=null===t||void 0===t||null===(y=t.foodNutrients)||void 0===y||null===(O=y.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.IRON}))[0])||void 0===O?void 0:O.amount,G=null===t||void 0===t||null===(j=t.foodNutrients)||void 0===j||null===(x=j.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.CHOLESTEROL}))[0])||void 0===x?void 0:x.amount,J=null===t||void 0===t||null===(I=t.foodNutrients)||void 0===I||null===(k=I.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.POTASSIUM}))[0])||void 0===k?void 0:k.amount,z=null===t||void 0===t||null===(A=t.foodNutrients)||void 0===A||null===(N=A.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.VITAMIN_A}))[0])||void 0===N?void 0:N.amount,V=null===t||void 0===t||null===(T=t.foodNutrients)||void 0===T||null===(M=T.filter((function(e){return(null===e||void 0===e?void 0:e.nutrient.id)===w.VITAMIN_C}))[0])||void 0===M?void 0:M.amount,W={brand:e.brandOwner,ingredients:e.ingredients,fdcId:e.fdcId,serving:100,nutrition:{calories:D||0,protein:F||0,carbs:R||0,fat:U||0,sugar:P||0,fiber:L||0,sodium:B||0,calcium:H||0,iron:Y||0,cholesterol:G||0,potassium:J||0,vitaminA:z||0,vitaminC:V||0},usdaNutrition:{calories:D||0,protein:F||0,carbs:R||0,fat:U||0,sugar:P||0,fiber:L||0,sodium:B||0,calcium:H||0,iron:Y||0,cholesterol:G||0,potassium:J||0,vitaminA:z||0,vitaminC:V||0},details:t};s((function(e){return[].concat(Object(C.a)(e),[W])})),S((function(t){return[].concat(Object(C.a)(t),[e.fdcId])}));var K=_(W,1);g(K)},showSelect:!0,fdcIds:j}),r.a.createElement("div",{style:{paddingTop:"20px"}},r.a.createElement(m.a,{variant:"secondary",type:"button",onClick:e.cancel,style:{marginRight:"5px"}},"Cancel"),r.a.createElement(m.a,{variant:"primary",type:"submit",onClick:function(t){var n;t.preventDefault();var a=c.map((function(e){return e.name=e.name?e.name:e.details.description,e})),r={_id:null===(n=e.meal)||void 0===n?void 0:n._id,name:p,foods:a,nutrition:b};e.submit(r)}},!e.meal&&"Add Meal",e.meal&&"Update Meal")))))}var _=n(93),P=n(95);function L(e){var t,n,i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],c=l[1];return r.a.createElement("span",null,e.food.name,r.a.createElement("br",null),r.a.createElement("span",null,e.food.group&&r.a.createElement("span",null,"group: ",e.food.group,r.a.createElement("br",null)),"serving: ",e.food.serving,r.a.createElement("br",null),"calories: ",null===(t=e.food)||void 0===t||null===(n=t.nutrition)||void 0===n?void 0:n.calories,r.a.createElement("br",null),!u&&r.a.createElement("span",null,r.a.createElement(m.a,{variant:"secondary",onClick:function(){return c(!0)}},"See nutrition"),r.a.createElement("br",null)),u&&M(e.food.nutrition)&&r.a.createElement("span",null,"Food nutrition",r.a.createElement(D,{nutrition:e.food.nutrition,height:"180px"}),r.a.createElement(m.a,{variant:"secondary",onClick:function(){return c(!1)}},"Hide nutrition"),r.a.createElement("br",null))))}function B(e){var t,n,a;return r.a.createElement(k.a,{style:{width:"24rem",margin:"0 auto"},className:"mb-2"},r.a.createElement(k.a.Header,null,r.a.createElement("span",null,e.meal.name),r.a.createElement("br",null),r.a.createElement(m.a,{variant:"link",size:"sm",onClick:function(){return e.updateMeal(e.meal)}},r.a.createElement(_.a,{icon:P.a,style:{color:"black"}})),r.a.createElement(m.a,{variant:"link",size:"sm",onClick:function(){return e.deleteMeal(e.meal._id)}},r.a.createElement(_.a,{icon:P.b,style:{color:"black"}}))),r.a.createElement(k.a.Body,null,r.a.createElement(k.a.Text,null,null===(t=e.meal)||void 0===t||null===(n=t.foods)||void 0===n?void 0:n.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement(L,{food:e}))})))),r.a.createElement("div",null,"Meal nutrition",M(null===(a=e.meal)||void 0===a?void 0:a.nutrition)&&r.a.createElement(D,{nutrition:e.meal.nutrition})))}function H(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),i=n[0],l=n[1],u=Object(a.useState)(new Date),d=Object(o.a)(u,2),f=d[0],p=d[1],v=Object(a.useState)(!1),E=Object(o.a)(v,2),b=E[0],g=E[1],O=Object(a.useState)(""),j=Object(o.a)(O,2),C=j[0],x=j[1];Object(a.useEffect)((function(){console.log("Days useEffect"),console.log(h()),I(f)}),[]);var I=function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getUTCDate(),e.next=3,fetch("https://shielded-earth-02834.herokuapp.com/days/"+n+"?user="+h(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:if("000000000000000000000000"!==(r=e.sent)._id){e.next=9;break}return e.abrupt("return",null);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.getFullYear()+"-"+(f.getMonth()+1)+"-"+f.getUTCDate(),e.next=3,fetch("https://shielded-earth-02834.herokuapp.com/days/"+n+"/meals?user="+h(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:I(f),g(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.getFullYear()+"-"+(f.getMonth()+1)+"-"+f.getUTCDate(),e.next=3,fetch("https://shielded-earth-02834.herokuapp.com/days/"+n+"/meals/"+t._id+"?user="+h(),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:I(f),x("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.getFullYear()+"-"+(f.getMonth()+1)+"-"+f.getUTCDate(),e.next=3,fetch("https://shielded-earth-02834.herokuapp.com/days/"+n+"/meals/"+t+"?user="+h(),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:I(f);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){x(C?"":e)};return r.a.createElement("div",null,r.a.createElement(S,{setAuthenticated:e.setAuthenticated}),r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement(y.a,{selected:f,onChange:function(e){p(e),I(e),g(!1)}})),b&&r.a.createElement(U,{submit:A,cancel:function(){g(!1)}}),C&&r.a.createElement(U,{submit:N,cancel:function(){return x("")},meal:C}),!b&&r.a.createElement(m.a,{onClick:function(){g(!0)},style:{margin:"10px"}},"Add meal"),i&&r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.meals&&i.meals.map((function(e,t){return r.a.createElement(B,{key:t,meal:e,updateMeal:T,deleteMeal:w})}))),r.a.createElement("div",null,M(i.nutrition)&&r.a.createElement("span",null,"Nutrition summary of the day",r.a.createElement(D,{nutrition:i.nutrition})))),!i&&r.a.createElement("div",null,"no data for this date"))}var Y=n(61);n(199);function G(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],l=n[1];return r.a.createElement("div",null,r.a.createElement(S,{setAuthenticated:e.setAuthenticated}),i&&r.a.createElement("span",null,"selected food fdc ID: ",i),r.a.createElement(T,{selectFood:function(e){l(e.FdcId)}}))}var J=function(){var e=Object(a.useState)(h()),t=Object(o.a)(e,2),n=t[0],i=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(Y.a,{basename:"/refactored-spoon"},r.a.createElement("div",null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(){return r.a.createElement(b,{setAuthenticated:i})}}),r.a.createElement(E.b,{path:"/signin",render:function(){return r.a.createElement(b,{setAuthenticated:i})}}),!n&&r.a.createElement("span",null,r.a.createElement(E.a,{to:"/signin"})),n&&r.a.createElement("span",null,r.a.createElement(E.b,{path:"/days",render:function(){return r.a.createElement(H,{setAuthenticated:i})}}),r.a.createElement(E.b,{path:"/foodsearch",render:function(){return r.a.createElement(G,{setAuthenticated:i})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.e6727429.chunk.js.map